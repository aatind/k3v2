K3os-v2 docs

#Truenas configuration:

## NFS shares
/mnt/flash-z1/k3os-public-v2
/mnt/z2/k3os-public-v2

username: k3os
password: veJZzFGCTKvF73

## democratic CSI provider deployment
helm repo add democratic-csi https://democratic-csi.github.io/charts
/
helm repo update
helm search repo democratic-csi/

# Add storageclass for SSD NFS

cat <<EOF  >> truenas-nfs-ssd.yaml
csiDriver:
  # should be globally unique for a given cluster
  name: "org.democratic-csi-ssd.nfs"

# add note here about volume expansion requirements
storageClasses:
- name: truenas-ssd
  defaultClass: true
  reclaimPolicy: Delete
  volumeBindingMode: Immediate
  allowVolumeExpansion: true
  parameters:
    fsType: nfs
  mountOptions:
  - noatime
  - nfsvers=4
  secrets:
    provisioner-secret:
    controller-publish-secret:
    node-stage-secret:
    node-publish-secret:
    controller-expand-secret:

volumeSnapshotClasses: []

driver:
  config:
    	driver: systechit-truenas
	instance_id:
	httpConnection:
	  protocol: http
	  host: 192.168.31.31
	  port: 80
	  username: k3os
	  password: veJZzFGCTKvF73
	  allowInsecure: true
	  apiVersion: 2
	sshConnection:
	  host: 192.168.31.31
	  port: 22
	  username: k3os
	  # use either password or key
	  password: "veJZzFGCTKvF73"
	zfs:
	  datasetParentName: Flash-Z1/k3os-public-v2/vols
	  detachedSnapshotsDatasetParentName: Flash-Z1/k3os-public-v2/snaps
	  datasetEnableQuotas: true
	  datasetEnableReservation: false
	  datasetPermissionsMode: "0777"
	  datasetPermissionsUser: k3os
	  datasetPermissionsGroup: wheel

	nfs:
	  shareHost: 192.168.31.31
	  shareAlldirs: false
	  shareAllowedHosts: []
	  shareAllowedNetworks: []
	  shareMaprootUser: k3os
	  shareMaprootGroup: wheel
	  shareMapallUser: ""
	  shareMapallGroup: ""
EOF

helm upgrade \
--install \
--create-namespace \
--values truenas-nfs-ssd.yaml \
--namespace democratic-csi-ssd \
zfs-nfs democratic-csi/democratic-csi
